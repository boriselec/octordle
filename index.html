<html>
<head>
<meta charset="UTF-8" />
<title>Octordle</title>
<meta name="description" content="Put your skills to the test and solve eight Wordles at once! You have 13 guesses to solve all eight words. A new Octordle available each day to solve.">
<meta name="keywords" content="Octordle, Quordle, Dordle, Wordle, word game, puzzle, brain teaser">
<meta name="author" content="Freddie Meyer">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<!-- FB Meta Tags -->
<meta property="og:url" content="https://octordle.com">
<meta property="og:type" content="website">
<meta property="og:title" content="Octordle">
<meta property="og:description" content="Put your skills to the test and solve eight Wordles at once! You have 13 guesses to solve all eight words. A new Octordle available each day to solve.">
<meta property="og:image" content="https://octordle.com/screenshot.png">
<meta property="og:image:width" content="802">
<meta property="og:image:height" content="531">

<!-- Twitter Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta property="twitter:domain" content="octordle.com">

<meta name="theme-color" content="#181a1b" />
<meta name=color-scheme content="dark">
<link rel="manifest" href="manifest.json" />
<link rel="shortcut icon" sizes="192x192" href="favicon-192.png">
<link rel="shortcut icon" sizes="128x128" href="favicon-128.png">
<link rel="apple-touch-icon" sizes="128x128" href="favicon-128.png">
<link rel="apple-touch-icon-precomposed" sizes="128x128" href="favicon-128.png">
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@500&display=swap" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://googletagmanager.com/gtag/js?id=G-X7RXK3GNJ9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-X7RXK3GNJ9');
</script>
<style>
html {
  background-color: rgb(24, 26, 27);
}

body {
    font-family: 'Outfit', sans-serif;
    background-color: rgb(24, 26, 27);
    color: white;
    margin: 0;
}

a {
    color: white;
}

.body-ios {
    height: -moz-calc(100% - 25px) !important;
    height: -webkit-calc(100% - 25px) !important;
    height: calc(100% - 25px) !important;
    bottom: 25px;
}

.button {
    width: var(--boxsize);
    height: var(--boxsize);
}

:root {
    --boxsize: 50px;
    --spacing: 0px;
    --collapse: ;
}

.box {
    border: white 1px solid;

    padding: 0px;
    text-align: center;
    background-color: rgb(24, 26, 27);
    overflow: hidden;
    border-spacing: var(--spacing);
    color: white;

    user-select: none;

    -webkit-user-select: none;
    /* Safari */
    -moz-user-select: none;
    /* Firefox */
    -ms-user-select: none;
    /* IE10+/Edge */
    user-select: none;
    /* Standard */
}

.key {
    cursor: pointer;
    touch-action: manipulation;
}

.bg-quad {
    color: black;
    background-size: 50% 50%;
    background-position: 0% 0%, 0% 100%, 100% 0%, 100% 100%;
    background-repeat: no-repeat;
}

.bg11 {
    background-image: linear-gradient(45deg, #919191, #919191 100%), linear-gradient(135deg, #ffcc00, #ffcc00), linear-gradient(225deg, #00cc88, #00cc88), linear-gradient(225deg, #ffcc00, #ffcc00);
}

.bg22 {
    background-image: linear-gradient(45deg, #919191, #919191 100%), linear-gradient(135deg, #919191, #919191), linear-gradient(225deg, #00cc88, #00cc88), linear-gradient(225deg, #00cc88, #00cc88);
}

.bg33 {
    background-image: linear-gradient(45deg, #00cc88, #00cc88 100%), linear-gradient(135deg, #919191, #919191), linear-gradient(225deg, #ffcc00, #ffcc00), linear-gradient(225deg, #00cc88, #00cc88);
}

.bg44 {
    background-image: linear-gradient(45deg, #919191, #919191 100%), linear-gradient(135deg, #ffcc00, #ffcc00), linear-gradient(225deg, #ffcc00, #ffcc00), linear-gradient(225deg, #919191, #919191);
}

.bg55 {
    background-image: linear-gradient(45deg, #919191, #919191 100%), linear-gradient(135deg, #00cc88, #00cc88), linear-gradient(225deg, #919191, #919191), linear-gradient(225deg, #919191, #919191);
}

.bg66 {
    background-image: linear-gradient(45deg, #919191, #919191 100%), linear-gradient(135deg, #919191, #919191), linear-gradient(225deg, #919191, #919191), linear-gradient(225deg, #ffcc00, #ffcc00);
}

.bg1 {
    background-image: linear-gradient(to right, rgb(24, 26, 27), rgb(24, 26, 27) 50%, #00cc88 50%, #00cc88);
}

.bg2 {
    background-image: linear-gradient(to right, rgb(24, 26, 27), rgb(24, 26, 27) 50%, #ffcc00 50%, #ffcc00);
}

.bg3 {
    background-image: linear-gradient(to right, #ffcc00, #ffcc00 50%, #00cc88 50%, #00cc88);
}

.bg4 {
    background-image: linear-gradient(to right, #00cc88, #00cc88 50%, #ffcc00 50%, #ffcc00);
}

.bg5 {
    background-image: linear-gradient(to right, #ffcc00, #ffcc00 50%, rgb(24, 26, 27) 50%, rgb(24, 26, 27));
}

.bg6 {
    background-image: linear-gradient(to right, #00cc88, #00cc88 50%, rgb(24, 26, 27) 50%, rgb(24, 26, 27));
}

table {
    font-size: inherit;
}

.table_guesses {
    border-collapse: var(--collapse);
    border-spacing: var(--spacing);
}
</style>
</head>
<body>
<div id="body" style="max-width:550px;margin:auto;height:100%;display:flex">
    <div id="title" width="100%" style="margin:auto;flex:1;">
        <center>
            <div class="button">&nbsp;</div>
            <div style="width: 67%;">
                <table style="width:100%;">
                    <tr>
                        <td class="box button bg-quad bg11" style="width:12.8%">O</td>
                        <td class="box button bg-quad bg55" style="width:12.8%">C</td>
                        <td class="box button bg-quad bg55" style="width:12.8%">T</td>
                        <td class="box button bg-quad bg33" style="width:12.8%">O</td>
                        <td class="box button bg-quad bg22" style="width:12.8%">R</td>
                        <td class="box button bg-quad bg66" style="width:12.8%">D</td>
                        <td class="box button bg-quad bg55" style="width:12.8%">L</td>
                        <td class="box button bg-quad bg44" style="width:12.8%">E</td>
                    </tr>
                </table>
            </div>
            <div style="font-size:50%;">
                <table style="width:100%;">
                    <tr>
                        <td style="width:50%; text-align:right;">переведено с <a href="https://octordle.com" target="_blank">Octordle</a></td>
                        <td style="width:50%;">by Kenneth Crawford</td>
                    </tr>
                </table>
            </div>
            <div style="font-size:50%;">
                <table style="width:100%;">
                    <tr>
                        <td style="width:50%; text-align:right;">основано на <a href="https://quordle.com" target="_blank">Quordle</a></td>
                        <td style="width:50%;">by @fireph</td>
                    </tr>
                </table>
            </div>
            <div style="font-size:50%;">
                <table style="width:100%;">
                    <tr>
                        <td style="width:50%; text-align:right;">основано на <a href="https://zaratustra.itch.io/dordle" target="_blank">Dordle</a></td>
                        <td style="width:50%;">by Guilherme S. T&ouml;ws</td>
                    </tr>
                </table>
            </div>
            <div id="tutorial1" style="padding:12px;cursor:pointer;">
                <img src="help_outline.svg" width="32" height="32">
            </div>
            <div class="box bg1" style="width: 90%; border:double;cursor:pointer;" id="daily">
                <table style="width:100%;">
                    <tr>
                        <td style="width:50%; text-align:right;">ежедневный</td>
                        <td style="width:50%; color:black;">octordle</td>
                    </tr>
                </table>
            </div>
            <div style="height:8px;">&nbsp;</div>
            <div class="bg3" style="font-size:80%;">
                <table style="width:100%; color:black;">
                    <tr>
                        <td style="width:50%; text-align:right;">новый Octordle</td>
                        <td style="width:50%;">каждый день</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td id="next_daily">every day</td>
                    </tr>
                </table>
            </div>
            <div class="button">&nbsp;</div>
            <div class="box bg5" style="width: 90%; border:double;cursor:pointer;" id="free">
                <table style="width:100%;">
                    <tr>
                        <td style="width:50%; text-align:right; color:black;">случайный</td>
                        <td style="width:50%;">Octordle</td>
                    </tr>
                </table>
            </div>
            <div style="height:8px;">&nbsp;</div>
            <div class="bg4" style="font-size:80%;">
                <table style="width:100%; color:black;">
                    <tr>
                        <td style="width:50%; text-align:right;">не ждите </td>
                        <td style="width:50%;">следующий день</td>
                    </tr>
                    <tr>
                        <td style="text-align:right;">каждый octordle</td>
                        <td>случаен</td>
                    </tr>
                </table>
            </div>
            <div style="height:32px;">&nbsp;</div>
            <div class="box" style="width: 60%; border:double;cursor:pointer;" id="widescreen-reset">
                Полноэкранный режим
            </div>
        </center>
    </div>
    <div id="tutorial" style="width:100%;height:100%;overflow:auto;padding-left:8px;padding-right:8px;font-size:50%;display:none;color:white;background-color:rgb(24, 26, 27);">
        <table style="width: 100%;font-size:200%;">
            <tr>
                <td class="box" style="border: none; border-style: double; width:35%;cursor:pointer;" id="leave_tutorial">назад</td>
            </tr>
        </table>

        <h3>Угадайте все 8 слов OCTORDLE за 13 попыток.</h3>
        <p>Каждая попытка должна быть пятибуквенным словом. Для проверки нажмите кнопу ввода.<br><br>После каждой попытки цвет клетки изменится в зависимости от близости введенного слова к загаданному.</p>
        <h2>Например</h2>
        <table style="width: 50%; border-spacing:0px;font-size:200%;">
            <tr>
                <td style="width: 50%; padding:0px;">
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"  style="background-color:#00cc88;color:black;">Г</td>
                            <td class="box button" width="20%" >Р</td>
                            <td class="box button" width="20%" >Е</td>
                            <td class="box button" width="20%" >Ч</td>
                            <td class="box button" width="20%" >А</td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <p>Буква Г есть в загаданном слове, и находится в правильной клетке.<br><br></p>
        <table style="width: 50%; border-spacing:0px;font-size:200%;">
            <tr>
                <td style="width: 50%; padding:0px;">
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%" >М</td>
                            <td class="box button" width="20%"  style="background-color:#ffcc00;color:black;">Е</td>
                            <td class="box button" width="20%" >Т</td>
                            <td class="box button" width="20%" >Р</td>
                            <td class="box button" width="20%" >О</td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <p>Буква Е есть в загаданном слове, но в другой клетке.<br><br></p>
        <table style="width: 50%; border-spacing:0px;font-size:200%;">
            <tr>
                <td style="width: 50%; padding:0px;">
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%" >Л</td>
                            <td class="box button" width="20%" >Е</td>
                            <td class="box button" width="20%" >В</td>
                            <td class="box button" width="20%" >Ш</td>
                            <td class="box button" width="20%" >А</td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <p>Букв Л, Е, В, Ш, А нет в загаданном слове.<br><br>При игре в OCTORDLE введенное слово сравнивается сразу с восемью загаданными словами. Все восемь загаданных слов различны.<br></p>
        <table style="width: 100%; border-spacing:0px;font-size:200%;">
            <tr>
                <td style="width: 50%; padding:0px;">
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%">П</td>
                            <td class="box button" width="20%">О</td>
                            <td class="box button" width="20%">Э</td>
                            <td class="box button" width="20%">М</td>
                            <td class="box button" width="20%">А</td>
                        </tr>
                    </table>
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                        </tr>
                    </table>
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                        </tr>
                    </table>
                </td>
                <td style="width: 50%; padding:0px;">
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%" >П</td>
                            <td class="box button" width="20%">О</td>
                            <td class="box button" width="20%" style="background-color:#ffcc00;color:black;">Э</td>
                            <td class="box button" width="20%">М</td>
                            <td class="box button" width="20%" style="background-color:#00cc88;color:black;">А</td>
                        </tr>
                    </table>
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                        </tr>
                    </table>
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td style="width: 50%; padding:0px;">
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%">П</td>
                            <td class="box button" width="20%">О</td>
                            <td class="box button" width="20%">Э</td>
                            <td class="box button" width="20%" style="background-color:#ffcc00;color:black;">М</td>
                            <td class="box button" width="20%">А</td>
                        </tr>
                    </table>
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                        </tr>
                    </table>
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                        </tr>
                    </table>
                </td>
                <td style="width: 50%; padding:0px;">
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%">П</td>
                            <td class="box button" width="20%" style="background-color:#00cc88;color:black;">О</td>
                            <td class="box button" width="20%">Э</td>
                            <td class="box button" width="20%">М</td>
                            <td class="box button" width="20%" style="background-color:#ffcc00;color:black;">А</td>
                        </tr>
                    </table>
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                        </tr>
                    </table>
                    <table style="width: 100%;" class="table_guesses">
                        <tr>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                            <td class="box button" width="20%"></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <p>Для слова ПОЭМА:
            <ol>
                <li>Левое верхнее загаданное слово не содержит таких букв.</li>
                <li>Правое верхнее загадонное слово содержит Э в другой клетке, и А в верной клетке.</li>
                <li>Левое нижнее слово содежит М в другой клетке.</li>
                <li>Правое нижнее слово содержит О в верной клетке, но А в другой.</li>
            </ol>
        </p>
        <p>У вас 13 попыток, чтобы отгадать все 8 слов. Удачи!</p>
        <p>Новый набор слов доступен каждый день!<br><br></p>
    </div>
    <div id="game" style="display: none;flex-direction: column;" width="100%">
        <table style="width: 100%;">
            <tr>
                <td class="box" style="border: none; border-style: double; width:25%;cursor:pointer;" id="restart">назад</td>
                <td class="box" style="border: none; border-style: double; width:20%;cursor:pointer;display:none;" id="reset_free">новый</td>
                <td style="width:*; text-align:center;font-size:75%;" id="game_title"></td>
                <td id="tutorial2" style="padding:6px;cursor:pointer;width:32px;">
                    <img src="help_outline.svg" width="32" height="32">
                </td>
                <td id="fullscreen" style="padding:6px;cursor:pointer;width:32px;display:none;">
                    <img src="fullscreen.svg" width="32" height="32">
                </td>
                <td id="exit_fullscreen" style="padding:6px;cursor:pointer;width:32px;display:none;">
                    <img src="fullscreen_exit.svg" width="32" height="32">
                </td>
            </tr>
        </table>
        <table id="widescreen-question" style="width: 100%; font-size: 75%">
            <td style="width:*">
                Перевести в полноэкранный режим?
            </td>
            <td class="box" id="widescreen-yes">
                Да
            </td>
            <td class="box" id="widescreen-no">
                Нет
            </td>
        </table>
        <table id="widescreen-feedback" style="width: 100%; font-size: 75%">
            <td style="width:*">
                Is widescreen working well?
            </td>
            <td class="box" id="widescreen-feedback-yes">
                Yes
            </td>
            <td class="box" id="widescreen-feedback-no">
                No
            </td>
        </table>
        <div id="normal-container" style="width: 100%;flex: 1;overflow: auto;">
            <table style="width: 100%; border-spacing:0px;">
                <tr>
                    <td style="width: 50%; padding:0px;" id="box-holder-1">
                    </td>

                    <td style="width: 50%; padding:0px;" id="box-holder-2">
                    </td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td></td>
                </tr>

                <tr>
                    <td style="width: 50%; padding:0px;" id="box-holder-3">
                    </td>

                    <td style="width: 50%; padding:0px;" id="box-holder-4">
                    </td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td></td>
                </tr>

                <tr>
                    <td style="width: 50%; padding:0px;" id="box-holder-5">
                    </td>

                    <td style="width: 50%; padding:0px;" id="box-holder-6">
                    </td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td></td>
                </tr>

                <tr>
                    <td style="width: 50%; padding:0px;" id="box-holder-7">
                    </td>

                    <td style="width: 50%; padding:0px;" id="box-holder-8">
                    </td>
                </tr>
            </table>
        </div>
        <div id="widescreen-container" style="width:100%; flex: 1; overflow: auto; display:none; min-height: 650px;">
            <div style="display: flex; justify-content: space-between; gap: 15px; min-height: 550px">
                <div id="box-holder-1-widescreen"></div>
                <div id="box-holder-2-widescreen"></div>
                <div id="box-holder-3-widescreen"></div>
                <div id="box-holder-4-widescreen"></div>
                <div id="box-holder-5-widescreen"></div>
                <div id="box-holder-6-widescreen"></div>
                <div id="box-holder-7-widescreen"></div>
                <div id="box-holder-8-widescreen"></div>
            </div>
        </div>
        <div id="post_game">
            <table width="100%">
                <tr height="14.2%">
                    <td rowspan=5 style="width:50%;">
                        <textarea class="box" style="width:100%; border: 1px solid;overflow:auto;resize:none;" rows=25 id="share_content">test</textarea>
                    </td>
                    <td style="font-size:75%; width:50%; text-align:center; vertical-align: top; padding-top: 15px;">
                        <div style="font-size:75%; width:50%; text-align:center; white-space: pre;" id="answer12">&nbsp;</div>
                        <div style="font-size:75%; width:50%; text-align:center; white-space: pre;" id="answer34">&nbsp;</div>
                        <div style="font-size:75%; width:50%; text-align:center; white-space: pre;" id="answer56">&nbsp;</div>
                        <div style="font-size:75%; width:50%; text-align:center; white-space: pre;" id="answer78">&nbsp;</div>

                    </td>
                </tr>
                <tr height="14.2%">
                </tr>
                <tr height="14.2%">
                </tr>
                <tr height="14.2%">
                </tr>
                <tr height="14.2%">
                    <td class="box" style="border: none; border-style: double;font-size:50%;width:50%;cursor:pointer;visibility:hidden;padding:8px;" id="share">
                        share
                    </td>
                </tr>
                <!-- <tr height="14.2%">
                    <td class="box" style="border: none; border-style: double;font-size:50%;width:50%;cursor:pointer;visibility:hidden;padding:8px;" id="share_image">
                        share as image (twitter)
                    </td>
                </tr> -->
                <tr height="14.2%">
                    <td class="box" style="border: none; border-style: double;font-size:50%;width:50%;cursor:pointer;padding:8px;" id="share_clipboard">
                        скопировать
                    </td>
                </tr>
                <!-- <tr height="20%">
                    <td class="box" style="border: none; border-style: double;font-size:50%;height:33%;align-items:middle;" >
                        <a id="tweet_link" href="https://twitter.com/share" target="_blank" style="display:block;width:100%;height:100%;text-decoration:none;">
                        tweet
                        </a>
                    </td>
                </tr> -->
            </table>
        </div>
        <table id="keyboard" style="width: 100%; max-width: 550px; margin: auto" class="table_guesses">
            <tr>
                <td class="box button key" width="10%" id="й">Й</td>
                <td class="box button key" width="10%" id="ц">Ц</td>
                <td class="box button key" width="10%" id="у">У</td>
                <td class="box button key" width="10%" id="к">К</td>
                <td class="box button key" width="10%" id="е">Е</td>
                <td class="box button key" width="10%" id="н">Н</td>
                <td class="box button key" width="10%" id="г">Г</td>
                <td class="box button key" width="10%" id="ш">Ш</td>
                <td class="box button key" width="10%" id="щ">Щ</td>
                <td class="box button key" width="10%" id="з">З</td>
                <td class="box button key" width="10%" id="х">Х</td>
                <td class="box button key" width="10%" id="ъ">Ъ</td>
            </tr>
            <tr>
                <td class="box button key" width="10%" id="ф">Ф</td>
                <td class="box button key" width="10%" id="ы">Ы</td>
                <td class="box button key" width="10%" id="в">В</td>
                <td class="box button key" width="10%" id="а">А</td>
                <td class="box button key" width="10%" id="п">П</td>
                <td class="box button key" width="10%" id="р">Р</td>
                <td class="box button key" width="10%" id="о">О</td>
                <td class="box button key" width="10%" id="л">Л</td>
                <td class="box button key" width="10%" id="д">Д</td>
                <td class="box button key" width="10%" id="ж">Ж</td>
                <td class="box button key" width="10%" id="э">Э</td>
                <td class="box button key" style="border-bottom:none;" width="10%" id="enter3"></td>
            </tr>
            <tr>
                <td class="box button key" width="10%" id="bs">&#x232B;</td>
                <td class="box button key" width="10%" id="я">Я</td>
                <td class="box button key" width="10%" id="ч">Ч</td>
                <td class="box button key" width="10%" id="с">С</td>
                <td class="box button key" width="10%" id="м">М</td>
                <td class="box button key" width="10%" id="и">И</td>
                <td class="box button key" width="10%" id="т">Т</td>
                <td class="box button key" width="10%" id="ь">Ь</td>
                <td class="box button key" width="10%" id="б">Б</td>
                <td class="box button key" width="10%" id="ю">Ю</td>
                <td class="box button key" style="border-right: none;" width="10%" id="enter1"></td>
                <td class="box button key" style="border-left: none; border-top:none;" width="10%" id="enter2">&#x23CE;</td>
            </tr>
        </table>
    </div>
</div>

<canvas id="canvas" width="176" height="352" style="position:absolute;left:0;top:0;display:none;"></canvas>
<script src="https://v6p9d9t4.ssl.hwcdn.net/html/5162977/mersenne.js"></script>
<script>

function makeBox(boxId, suffix) {
    const template = `<table style="width: 100%;" class="table_guesses">
        <tr>
            <td class="box button" width="20%" id="box${boxId},1,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},1,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},1,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},1,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},1,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},2,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},2,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},2,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},2,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},2,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},3,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},3,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},3,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},3,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},3,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},4,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},4,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},4,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},4,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},4,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},5,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},5,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},5,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},5,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},5,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},6,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},6,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},6,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},6,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},6,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},7,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},7,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},7,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},7,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},7,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},8,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},8,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},8,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},8,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},8,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},9,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},9,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},9,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},9,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},9,5,${suffix}"></td>
        </tr>

        <tr>
            <td class="box button" width="20%" id="box${boxId},10,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},10,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},10,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},10,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},10,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},11,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},11,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},11,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},11,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},11,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},12,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},12,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},12,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},12,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},12,5,${suffix}"></td>
        </tr>
        <tr>
            <td class="box button" width="20%" id="box${boxId},13,1,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},13,2,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},13,3,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},13,4,${suffix}"></td>
            <td class="box button" width="20%" id="box${boxId},13,5,${suffix}"></td>
        </tr>
    </table>`

    const container = document.createElement("div");
    container.innerHTML = template;
    return container.firstChild;
}

function setupBoxes() {
    for(let box = 0; box < TOTAL_BOXES; box++) {
        acquire(`box-holder-${box + 1}`).appendChild(makeBox(box + 1, ""));
        acquire(`box-holder-${box + 1}-widescreen`).appendChild(makeBox(box + 1, "widescreen"));
    }
}



const TOTAL_LINES = 13;
const TOTAL_COLUMNS = 5;
const TOTAL_BOXES = 8;

function forEachCell(callback) {
    for(var line = 0; line < TOTAL_LINES; line++) {
        for(var column = 0; column < TOTAL_COLUMNS; column++) {
            for(var box = 0; box < TOTAL_BOXES; box++) {
                boxOperation(box, line, column, boxEl => {
                    callback(box, line, column, boxEl);
                });
            }
        }
    }
}

function forEachCellForLine(line, callback) {
    for(var column = 0; column < TOTAL_COLUMNS; column++) {
        for(var box = 0; box < TOTAL_BOXES; box++) {
            boxOperation(box, line, column, boxEl => {
                callback(box, column, boxEl);
            });
        }
    }
}

function forEachCellForLineColumn(line, column, callback) {
    for(var box = 0; box < TOTAL_BOXES; box++) {
        boxOperation(box, line, column, boxEl => {
            callback(box, boxEl);
        });
    }
}


function el(n, t) {
    e = document.createElement(n);
    if (t) e.appendChild(t);
    return e;
}

function newElement(_elementType, _parent, _className) {
    e = document.createElement(_elementType);
    if (_className) e.className = _className;
    if (_parent) {
        _parent.appendChild(e);
        e.parent = _parent;
    }
    return e;
}

function text(t) {
    return document.createTextNode(t);
}

function clear(out) {
    out.innerHTML = "";
}

function ppint(out, t) {
    out.appendChild(text(t));
}

function printclear(out, t) {
    if (out == null) return;
    clear(out);
    ppint(out, t);
}

function ln(out) {
    out.appendChild(document.createElement("br"));
}

function printcolor(out, t, color, bgcolor, s) {
    tx = document.createElement("span");
    tx.innerHTML = t;
    tx.style.color = s ? bgcolor : color;
    tx.style.backgroundColor = s ? color : bgcolor;
    out.appendChild(tx);
}

function printclass(out, t, c) {
    tx = document.createElement("span");
    tx.innerHTML = t;
    console.log(c);
    tx.className = c;
    console.log(tx);
    out.appendChild(tx);
}

function append(out, t) {
    out.appendChild(t);
}

function acquire(out) {
    return document.getElementById(out);
}

function acquireBox(box, line, column, mode, callback) {
    mode = mode || "";
    const el = acquire(`box${box + 1},${line + 1},${column + 1},${mode}`);

    if(!el) {
        debugger;
    }

    if(el && callback) {
        callback(el);
    }

    return el;
}

function boxOperation(box, line, column, callback) {
    acquireBox(box, line, column, null, callback);
    acquireBox(box, line, column, "widescreen", callback);
}

function random(n) {
    return (Math.random() * n) >> 0;
}

function randomArray(arr) {
    return arr[(Math.random() * arr.length) >> 0];
}

function int(n) {
    return n >> 0;
}

function trace(s) {
    console.log(s);
}

function registerLoop(e, f) {
    e.loop = f;
    e.interval = setInterval(function() {
        e.loop();
    }, 1000 / framerate);
}

function destroy(e, p) {
    if (e.destroyed) return;
    if (e.interval) clearInterval(e.interval);
}

function output(obj1) {
    append(acquire("out"), el("p", text(obj1)));
}

function remove(arr, term) {
    if (arr.indexOf(term) !== -1) arr.splice(arr.indexOf(term), 1);
}

allowed = "абзац аборт аванс авеню аврал адепт адрес азарт азиат айран акрил актер актив акула акция алиби алкаш алкил аллах аллея алмаз алтей алтын альфа амбал амбар амеба ампер ангар ангел анкер анонс аорта апекс апноэ апорт арбуз ареал арена ариец армия архив аршин аскет аспид астма астра атака атлас атлет афера афина афиша ахилл ацтек аэроб аэрон бабай бабка багаж багги багет бадья базар базис балда балка банан банда барак баран баржа барий барон басон батан батат батек батон батут батыр бахча бачки бачок башка башня бегун бедро бекон белка белое белок белый белая белье беляк беляш берег берет бетон бивни бизон билет биржа бирка бисер битва битка биток битум битый битье благо бланк блеск близь блоха блуза блюдо блюмс блядь бляха бобер бобик богач бодун бодяк бойцы божок бозон боинг бойня болид бомба бонза бонна бонус борат бордо борей борец борцы боров борок босяк ботик бочка бочок бояре браво брань брейк бремя брешь бридж бровь бронь брошь брюки брюхо бубен бубны бубна бубон бугай бугор бугры будка будни буква букет букля булат булка бурак буран бурда бурят бутан бутен бутил бутон буфер буфет бухло бухта быдло былое бытие бычок бьюик вагон вакса валах валеж валет валик валка валок валуй вальс ванна варан варяг ватка вафля вахта вдова вебер ведро ведун вежда везир вейка векша велик велит вельс велюр венгр венед венет венец венцы веник вента вепрь верба вервь веред верес верея верже верфь верша весло весна весок весть ветвь ветер ветры ветка ветла вечер вешка вещее вещун взбег взвар взвод взвоз вздор вздох взлет взлом взмах взмет взмыв взнос взрез взрыв взрыд взыск вивер видео видик видок визаж визир визит вилка вилла вилок винцо виола вираж вирус вирша виски висок вития виток витье вихор вихры вихрь вишну вклад влага вобла вогул водка вожак вождь вожжа возик возка возня возок война вокал волан волга волна волок волос волох волхв вольт вопль ворог ворон ворот ворох ворье вотум вотяк вошка вояка впуск враки враль врата время вруша вспых всход втора вуаль вчера въезд выбег выбой выбор вывал вывес вывих вывод вывоз выгар выгиб выгон выгул выдел выдох выдра выдув выезд выжиг выжим вызов вызол выкат выкол выкос выкуп выкус вылаз вылет вылов вылом вымах вымол вымор вынос выпад выпал выпар выпас выпек выпор выпот вырез выруб высев вытье выход вычет вышаг вышка вьюга вязка вязок вятич вятка гавот гагат гадес газок газон гайка галит галка галоп галун гамак гамба гамма гамон ганаш ганец ганцы ганза ганка гараж гарда гарем гарус гаусс гаучо гачек гашиш гвалт гевея гейша гелий гемин гемма гений геном генри геоид герлс герма герой гетит гетра гетто гжель гиады гибка гидра гиена гилея гиляк гинея гипюр гирло гитан гитов гичка глава главк гладь глень глина глинт глипт глист глубь глушь глыба глясе гмина гнейс гнида гниль гнусь гобой говно говор гогот годик годок голем голец голик голод голос голый голая голые голыш гольд голье гольф голяк гомон гонец гонцы гонит гонка гонор гопак горал горец горцы горжа горка горло горно город горох горст горюн гость граве грамм гранд грант грань гребь грежа греза грена греча грива гридь гриль грипп гроза гросс груда грудь грунт груша грыжа гряда грязь гуава гуано гуашь губан губка гугня гудок гужик гузка гузно гулаг гуляш гумма гумно гумус гуран гурда гурия гусак гусар гусек гусит гусли гуцул гэпэу гюрза давка дадан дайна дайра далия дамба дамка датив дацан дачка дверь дебай дебет дебил дебит дебош дебрь дебют девиз девка девон дегти дедка дедок дежка деизм деист декан декор дележ делец демон демос денди денек денье дерба дерби дерен дерма дерть десна десть детва детка дефис джига джинн дзета дзюдо диана диван диета дикий дикая дикие дилен дилер дильс динар динас динги динод диско дихта дичок длань длина днище донья добор добро довод догма дождь дожим дозор дойка дойна дойра докер домек домен домер домик домна домок домра донец донцы донка донна донор донос донце дорка досев доска досол досуг досыл досье дофин доход дочка дошка драга драже драйв драка драма дрань древо дрейф дрель дрема дробь дрова дрога дрожь дрозд дрофа друид дрязг дрянь дубец дубцы дубка дубль дубок дубье дувал дуван дудак дудка дудук дужка дукат дулеб думец думцы думка дунец дунцы дунит дунст дупло дурак дурни дурка дурра дутар дутик дутыш дутье духан душка душок дуэль дщерь дылда дымка дымок дырка дышло дюбек дюкер дюшес дядек дядья дятел дятлы евнух еврей егерь егоза ежиха ежата ездка ездок елина емеля емшан ересь ерник есаул ессей ехида жабка жабра жажда жакан жакет жамка жарка жарок жатва жатка жвало жевок желна желоб желть желчь жених женка жеода жердь жерех жерло жесть жетон живец живцы живое живые живот живье жиган жидок жизнь жилет жилец жилка жилое жилье жинка жираф жирок жиряк жисть житие житье жменя жмудь жнива жница жокей жопка жрица жулан жулик жулье жупан жупел журка жучка жучок забег забой забор завал завет завод завоз завуч загар загиб загон загул задел задик задок задор заеда заезд займы зажим зажин зажор зазор зазыв заика зайка заказ закал закат закол закон закуп закут залет залец залив зализ залог залом замах замер замес замет замок замор замша зандр занос запад запал запас запах запев запой запон запор зарез зарин зарод зарок заруб заряд засев засов засол засор засос засыл затек затес затея заток затон затор затяг заумь заход зацеп зачес зачет зачин защип зайцы звено звень зверь зебра зевок зелье зельц земец земцы земля зенит зенки зерно зернь зефир зипун злато злоба злюка знамя знать зобик золка зоман зомби зраза зубья зубец зубцы зубик зубок зудни зумпф зурна зыбка зыбун зятек зятик иблис иваси ивина ивняк иврит игрек игрец игрок игрун идеал идиом идиот иерей ижица ижора избач извет извив извод извоз изгиб изгой изида излет излом измол измор износ изъян изыск изюбр икона икота иксия иктус илеус илька имаго имидж имена инвар ингуш индий индол индра индус индюк инжир интим инула иодид иомен иомуд иомут ионит иония иприт ирбис ирида ирмос исида искра искус ислам испод испуг иссоп истец истцы истод исток исход итээр иудей ифрит ишиас йодид йодль йомен кааба кабак кабан кабил кабул кавун кагал каган кагат кагор кадет кадиш кадка кадык казак казан казах казна казнь казус кайен кайла кайма кайра какао калам калан калач калба калий калиф калла калым камас камни камея камин камка камса камус камча камыш канал канат канва канна канон каноэ канун канюк капер капля капор капот каппа капут карат карга карда кариб кария карма карст карта касик каска каско касса каста катар катер катет катод каток катыш кацап кацик качка качок кашли кашка кашне кашпо кашуб кащей каюта квадр квант кварк кварц квача квота кегль кекур кельт келья кенар кенаф кепка кетен кетон кефир кечуа кешью кивер кивок кивот кидас кизил кизяк килим кимвр кинза киник киоск кипер кипка кирза кирка кирха кисет кисея киска киста кисть китай кифоз кичка кишка клава кладь клака класс клект клерк клест клеть клефт клещи клинч клипс клише клоун клуня клупп клуша клюка клюфт кляча кнель кнехт книга кникс кница князь коала коата кобел коблы кобза кобра кобыз ковач ковер ковры ковка когти кодак кодла кодон кожан кожух кожье козел козлы кознь козон козны койка койне койот кокет кокни кокон кокор кокос колья колба колер колет колея колик колит колка колли колок колон колос колун колча колье кольт колюр комья комар комли комик комма комми комод комок конек конец концы коник конка конто конус конюх копал копач копер копры копие копир копия копка копна копра копун копыл копье коран корни корец корцы кореш корка короб корча корчь корье коряк косач косая косые косец косцы косма косой косок кость косье косяк котел котлы котик коток кофей кофий кофта кохия коцит кочан кочни кочет кочка кошер кошка кошма кощей крага кража краля крапп краса кредо креол крепь кресс крест криль крица кроат кровь кроль кросс кроха кроше круиз круть круча кручь крыло крыша кубик кубло кубок кувез кудла кудлы кудри кузен кузня кузов кукан кукиш кукла кукша кулаж кулак кулан кулек кулеш кулик кулич кулон культ кумач кумжа кумир кумол кумык кумыс кунак куньи купаж купец купцы купля купол купон кураж курай курва курец курцы курия курка курок куруш курья кусок кутас кутеж кутис куток кутум кутья кутюм кухва кухня кухта кучер кучка кушак кхмер кэтти кювет кюлот кяриз лабаз лабет лаваш лавис лавка лагун ладан ладья лазер лазея лазка лазок лайба лайда лайка лакей лакец лакцы лампа ламут ланда ландо ланка лапка лапти лапта лапша ларва ларго ларек ларец ларцы ласка лассо латин латка латук латыш лафет лафит лацци лачка лачок лбина лбище левак левит левша левый легат легаш легуа ледок лежак лежни лежка лейка лекаж лемех лемеш лемма лемур ленок лента ленца лепет лепка лепра лепта лерка леска лесок лесть летка леток летун лешак леший лещик лиана либра ливан ливни ливер ливка лидер лизат лизин лизис лизол лизун ликер лилея лилия лиман лимит лимон лимфа линек линза линия липец липцы липид липка липси лирик лиска литва литер литий литка литье лихач лихва лицей лишай лишек лобан лобби лобик лобио лобок ловец ловцы ловля логик логос лодка ложка ложок локва локон локти ломик ломка ломок ломти лонжа лопух лоток лотос лохмы лоция лошак лубья лубок лужок лузга лукно лунит лунка лупин лупка лучик лучок лыжня лысун лысый лытка лычка льяло любка любви любое любой любая любые люгер люмен люнет люпин люпус люрик лютик лютич лютня люффа лючок лягва ляжка лямка ляпис лярва ляссе ляшка магик магия магма магот мадам мадия маета мажор мазар мазер мазик мазка мазло мазня мазок мазур мазут майер майка майна майор макао макет макса макси малек малец малик малка малое малый малье маляр мамай маман мамба мамка мамон манас манго манда манеж манер мание мания манка манко манна манок манор манси манто манту манул маори марал маран марго маржа марка марля масаи маска масло масон масса масть матка маток матюг матюк мафия махан махра мачок мачта мегом медея медик медок медяк мезга мезон мейоз мекка мелис мелок мелос менка мерея мерин мерка месса место месть месье месяц метан метек метил метис метка метла метод метол метоп метро меццо мечта мешок мигач мизер микоз микст милка милое милый милая милые мильт мимик минер минея минор минос минус миома мираб мираж мирза мирок мирон миска митоз митра мишка мишук млеко могар могол модем модий модус мойва мойка мойра мокко мокой мокша молва молка молот молох молян моляр момме монах моном мопед морда мороз морок морцо моряк мосол мослы мосье мотет мотив мотка мотня моток мотор мотто мохер мохна мочка мошка мошна муаре мудак мужья мужик музга музей мулат мулек мулла муляж мумие мумия мунгу мураш мурда мурза мурин мурка мурло мурья мусор мутон мутул муфта муцин мучка мушар мушка мымра мысик мысль мысок мытье мычка мышей мышка мышца мэрия мюзет мюрид мякиш мялка мямля мянда мясцо мятеж мятье набат набег набла набоб набор навал навар навес навет навис навоз навой навык наган нагар нагиб нагон нагул надел надир надой надув наезд наймы нажиг нажим нажин назем наказ накал накат накол накос накра налеп налет налив налим налог налой намаз намек намет намин намол намыв нанай нанду нанка нанос напев напой напор нарез народ нарта наруч наряд насад насос насып натек натес натяг наука нафта нахал наход нация начес начет начин наяда невер невма невод негус недра недуг немец немцы немка немой немая немые ненец ненцы нения ненка непер нерка нерол нерпа несун нетяг нефть нечет нивка нивоз нивух низка низок никса никто нилот нимфа нисан нитка нитон ничто ничья нищий нищая нищие новик новое ногай ногти ножик ножка ножны нойон нолик номад номер нонет нория норка норма норов носач носик носка носок нотис нотка ночва ночка нудга нужда нукер нулик нутро нырец нырцы нырок нытик нытье нычка нюанс оазис обвал обвес обвод обвоз обгон обдел обдир обдув обжиг обжим обжин обжог обзор обида обкат обком обкос облет облик облов облог облой обман обмен обмер обмет обмин обмол обмыв обнос ободь обора образ обрат обрез оброк обруб обруч обрыв обряд обсев обувь обуза обход обчет общак общее объем обыск овист овощь овраг овсец овсюг овчар огонь огрех одежа одеон одурь ожина озеро озимь озноб оидий ойрот окапи океан окись окиян оклад оклик оковы окоем окорм окрас окрик окрол округ оксид октан октет окунь олеин олень олеум олива олимп олифа олово ольха омела омлет омуль онагр оникс онуча оолит ооцит опара опека опята опера опись опиум оплот оплыв опоек опока опрос оптик орава орала орарь орган оргия орден ордер ореол оржад орион оркан орлан орлец орлик орляк ортит орфей орхит оршад осада осень осетр осина оскал ослик ослоп осляк осман осмий осмол осмос особа особь осоед осока осташ остит остов остол остюк остяк осыпь отава отара отбив отбой отбор отвал отвар отвес ответ отвод отвоз отгиб отгон отгул отдел отдух отдых отель отжиг отжим отзол отзыв отказ откат откол откос откуп откус отлет отлив отлов отлог отлуп отмах отмер отмол относ отпад отпал отпор отрез отрог отрок отруб отрыв отряд отсев отсек отсос оттек отток отход отцеп отчал отчет отчим отшиб отъем офеня офорт офсет оффис охват охота очерк очкур очник ошеек ошкуй ощупь пагон падеж падла падог падуб падун пазок пайва пайза пайка пайол пакет пакля палас палац палач палаш палех палец палея палия палка палуб пампа панаш панда панер панна паныч панье папах папеж папка парад параф парез парни парик пария парня парод парок паром парта парун парус парча парша пасма паста пасть пасха пасюк патан патер патио патлы патуа пауза пафос пахви пахит пахта пацан пачка пашня паяло певни певец певцы певун пегас пейот пекан пекло пелит пемза пенал пенге пенек пение пенка пенни пенье пепел пеплы пепси перга перед перец перцы перка перло перья перси перст перун перье песец песцы песик песня петел петит петля петух печка пешец пешцы пеший пешая пешие пешка пешня пещер пещур пиала пиано пивко пивцо пигус пижма пижон пизда пикан пикап пикет пикон пикша пилав пилат пилка пилон пилот пимок пиния пинка пинна пинок пинта пипка пират пирит пирке пирог пирок пирон пироп писец писцы писун питие питок питон питух питье пифия пифос пихта пицца пищик плавь плаке пламя пласт плато плаун плаха плебс плева плеер племя плеск плесо плеть плечо плешь плинт плита плица плоть плохо плюха пнище побег побои побор повал повар повет повод повой погиб погон подий подог подой подол поедь поезд пожар пожня пожог позем позер позор позыв позык поиск пойка пойло пойма показ покат покер покой покос покус полба полет полив полип полир полис полог полоз полой полом полон полть полюс поляк поляш помет помин помои помол помор помпа понос пончо понюх попас попик попка попса порез порей порка порог пороз порок порос порох порск порто порты поруб порча порыв посад посев посол послы посох посул посыл поташ потек потир поток потоп потяг поход похул почва почет почин почка почта пошиб пошив поэма право прана прель пресс приап прием прима принц приор приуз причт приют проба проем проза пропс просо проух профи прусс прыск прыть прядь пряжа пряха псарь псина псица псише птаха птица пуант пугач пудик пудра пузан пузач пукля пульс пульт пунец пунцы пункт пупок пурга пурин пурка пусто путец путцы путик путло пуфик пучка пучок пушка пушок пушта пчела пшено пырей пытка пышка пьеза пьеро пьеса пьянь пэтэу пялка пясть пятак пятка пятно пяток пятый пятая пятые рабат раджа радий радио радон разик разок разор разум раина район ракия ракля ракун ракша ралли рамка рампа ранет ранец ранцы ранка ранчо рапид растр ратай ратин раунд рафид рафик рафия рахис рахит рацея рация рачок рвань рвота рдест ребаб ребро ребус ревун регби регия редан редис редут режим резак резец резцы резит резка резня резол резон резус рейка релиз релит рельс ремез ремни ремиз ренет рений рента репей репьи репер репка репье ретро речка решка ржавь ржица ржище риель ризка рикша ринит рипус ритор рифей рифля рифма рицин ришта робот ровер ровик ровня рогач рогоз родео родий родич родня рожак рожок рожон рожны розан розга рознь ройба ройка рокот ролик роман ромец ромок ромша рондо ронжа ропак ропот ростр ротик роток ротон ротор рохля рояль ртище ртуть рубеж рубец рубцы рубин рубка рубль ругня рудяк ружье руина рукав рулет рулон румын рунец рунцы рупия рупор русак русин русло рутил ручей ручьи ручка рыбак рыбец рыбцы рыбка рывок рыжак рыжей рыжий рында рынок рысак рысца рытье рычаг рэкет рэлей рюмка рюшка рябец рябцы рябик рябой рябая рябые рябок рядно рядок ряска рясна ряшка сабан сабей сабза сабин сабля сабур саван савар савка саган сагиб саджа садик садка садно садок сазан сайга сайда сайка сайра саква сакля салар салат салеп салка салма салол салон салоп салют саман самба самбо самец самцы самка самум санки сапер сапка сапог сапун сарай саржа сарос сарыч сатин сатир сауна сафра сахар сахиб сачок сброд сброс сбруя свара сваха свеча свиль свинг свист свита свора свояк связа связь сглаз сдача сдвиг сдоба сеанс севак севба север севец севцы севок седан седло седок сеево сезам сезни сезон сейба сейид сейша секач секта селен селин семга семик семит семья сенаж сенат сенки сенцо сепия серир серия серка серна серое серсо серум серый серая серые сетка сеунч сечка сиаль сивер сивка сивко сивуч сивый сивая сивые сигма сидни сидка сидор сиена сижок сизиф сизяк сикоз силач силен силка силок силон силос силур сильф симка синап синец синцы синод синто синус синяк синяя синие сипай сирен сирин сироп сирый сирая сирые систр ситар ситец ситцы ситро ситце сифон скала скало скань скарб скарн скаут скачь сквер сквош скейт скена скепт скетч скирд склад склеп склиз склон скоба скора скорм скотч скрап скреп скрип скрэб скуди скудо скука скула скунс слава слайд слань слега слеза сленг слизь слово слуга слуда слука слюда слюна смазь смена смерд смерч смесь смета смола смоль смотр смрад смута смуть смысл снедь сноха сныть собес собор совет совик совка совок согра содом созыв сойка сойма сойот сокол солея солка солод соляр сомик сомье сонет сопка сопло сопля сопор сопун сорго сорит сорок сором сорус сосед сосец сосцы соска сосна сосок сосуд сосун сотка сотня сотый сотая софит сохач сочни сочок сошка спаги спазм спайк спесь спирт спица сплав сплин спорт спрей спрос спрут спурт спуск среда срост ссора ссуда стадо сталь станс старт старь стать ствол створ стега стезя стела стель стенд стень степс степь стерх стикс стило стиль стоик стокс столп стопа стояк страж страз страх стриж стрик стрит строй строп струг струп струя стужа ступа ступь стыдь стынь суаре сувой судак судия судно судок судья суета суинг сучья сукно сукре сулея сулой сумах сумет сумка сумма сунна супер супец супцы супин суржа сурик сурна сурок сусак сусек сусло сутаж сутки сутра суфле сучка сучок сучье сушка сущее сущик сфера схема схима сцена сцинк съезд сынок сыпец сыпцы сырец сырцы сырок сырца сырье сытый сытая сытые сычуг сыщик сэшэа сюжет сюита сябер сяжок табак табес табло табор табун тавот тавро таган тайцы тазик тайга таймс тайна такое такса такси такыр талан талер талес талиб талик талия талон талыш тальк талья тамга тамил танго танец танцы танин танок тапер тапир тапка таран тараф тариф тарын таска татка тауэр тафта тафья тахта тацет тачка ташка таэль тварь твист театр тезей тезис тезка теизм теист текст телек телец телик телка телок тембр темка тенге тенек тенор тепло терем терец терцы терка терма терно тесак тесей теска тесло тесто тесть тетка теург течка тешка тиара тигли тимол тимус тинка типаж типец типцы типик типун тираж тиран тиски титан титла титул тифон тифус ткань тлень товар тодес тойон токай толай толос толпа толща толщь томан томат томик томми тондо тоник тонна тонус топаз топик топка топор топот торба торец торцы торий торос тоска тотем тоуэр тохар точка трава трамп транс транш трапп трата траур треба трель трема треск трест треть треух триас триба триер тризм трико трипс тромб тромп трояк труба трусы труха трюмо тсуга туаль тубус тугай тугун тузик тукан тулес тулий тулуз тулук тулун тулуп тулья туляк тумак туман тумба тумор тунец тунцы тупей тупец тупцы тупик тупыш турач турка турне турок тутор тутти туфля туфта тучка тушка тщета тыква тынок тырло тырса тычок тюбик тюник тюрбе тюрик тюрок тютюн тюфяк тючок тябло тягач тягло тяжба тяпка уазик уброд убрус убыль увраж углич угода уголь угорь угрев удаль удача удерж удило удэге удэхе ужата узанс узбек уздца узина узник уйгур уклад уклея уклон укроп укрут укрюк уксус улика улица улыба ульта умбра умище умник умный умная умные умолк униат унион унтер унция упрек упырь ураза урарт урема урина урман усина усище ускок успех устой уступ устье утеря утеха утиль утица ухарь ухват ухожь ухряб учеба учхоз ушица ушкуй ушник ущерб фабра фавор фавус фагот фадом фазан фазис факел факир фалда фальц фанат фанза фарад фарси фасад фасет фаска фасон фатом фатум фатюй фауна фацет фация фаянс фелло фелон фений фенил фенол ферзь ферма ферми феска фетва фетиш фетюк фефер фиакр фибра фигли фигня фидер фижма физик физия фикус филер филин филон филум фильм фильц фимоз финал финик финиш финка фиорд фирма фитин фишка фланг фланк флейт флейц флинт флирт флокс флора флюид фляга фляер фобия фокус фолио фолия фомка фонон форма форум фоска фотон фофан фраер фраза франк франт фрахт фреза френч фреон фронт фрукт фрунт фугас фужер фузея фузия фукус фуляр фураж фуран фурия фурма фурор футер футор фуфло фуэте фырок фьорд фюрер хабар хадис хазар хайло хакас хакер халал халат халва халда халиф хамит хамка хамло хамса хамье ханжа ханты ханша хапун харон харчо хасид хатка хашиш хвала хворь хвост хедер хедив херем херик хиазм хилус хилый хилая хилые хиляк химик химия химус хинди хинин хинон хиппи хирот хитин хитон хлест хлыст хлюст хлябь хмара хмель хмурь хмырь хоана хобби хобот ходни ходжа ходик ходка ходок ходун холин холка холод холоп холст холуй хольд хомут хомяк хорал хорда хорей хорея хохма хохол хохлы хохот хошун хруст хряпа хряск хряст худое хунну хунта хурал хурда хурма хутор цадик цанга цапка цапля цапун цапфа царек цацка цвель цветы цевка цевье цедра цезий целик целла целое центр ценур цепни цепка цепня церий цефей цибик цикля цинаш цинга циник цирик циста цитра цифра цокот цукат цуцик цыбик цыган цыпка цэрэу чабан чабер чабры чадра чайка чакан чакра чалка чалма чалый чалая чалые чарка часик часок часть чашка чебак чебот челка чемер чепан чепцы черва черви червь черед через черен череп чернь ческа честь четка чехол чехлы чечен чечет чешка чешуя чибис чилим чинка чипсы чирей чирьи чирик чирок чирус чиряк число читка чомга чомпи чрево чреда чтиво чтица чубик чубук чувак чувал чуваш чувяк чугун чудак чудик чужак чужое чужая чужие чуйка чукча чулан чулок чумак чурек чурка чутье чухна чушка шабат шабаш шабер шабры шабли шабля шабот шабур шавка шадуф шажок шайба шайка шакал шалаш шалон шалун шаман шамот шанец шанцы шанкр шапка шарап шарик шасла шассе шатен шатер шатры шатия шатун шафер шахта шашни шашка шваль шванк швара шварт шверт шевер шевро шеища шелеп шелом шельф шемая шепот шериф шибер шизик шиизм шилья шимми шинок шинто шипок шипун ширма шитво шитик шитье шифер шифон шихан шихта шишак шишка шкала шкант шквал шкерт шкода школа шкура шланг шлейф шлюха шляпа шмель шмоль шнапс шнява шняка шобла шорец шорцы шорка шорня шорох шорты шоссе шофер шпага шпала шпана шпень шпиль шпинь шпион шприц шпрот шпуля шпунт шпынь шримс шрифт штамб штамм штамп штаны штейн штиль штифт штора шторм штраб штраф штрек штрих штука штурм штыка штырь шубка шугай шудра шуйца шулер шумер шумок шурин шурпа шуруп шуряк шутка шухер шушун шхера шхуна шютте щебни щебет щегол щеглы щекот щелок щенок щепка щепье щерба щетка щечка щипец щипцы щипка щипок щитни щитик щиток щишки щупик щупка щурка щурок щучка эгида эгрет эдикт эйдос экзот эклер экран эксод элеат элита эллин эмаль эммер энзим эозин эолит эоцен эпарх эпонж эпоха эрата эрбий эрзац эркер эсдек эскер эскиз эспри эссен эстет этвеш этика этнос эфиоп эшарп югрич югурт юдоль южане юзист юкола юмизм юниор юница юнкер юнкор юннат юнона юноша юрага юрист юферс ябеда ягель ягода ягуар яичко яишня якорь ямина ямища ямщик ярица ярлык яруга ярыга ясень яспис яство ястык ясырь ятвяг ятовь яхонт ячата".split(" ")
answers = "абзац аборт аванс авеню аврал адепт адрес азарт азиат айран акрил актер актив акула акция алиби алкаш аллах аллея алмаз альфа амбал амбар амеба ампер ангар ангел анонс аорта апноэ арбуз ареал арена армия архив аршин аскет аспид астма астра атака атлас атлет афера афиша ацтек бабай бабка багаж багет бадья базар базис балда балка банан банда барак баран баржа барий барон батат батон батут бачок башка башня бегун бедро бекон белка белок белье беляк беляш берег берет бетон бизон билет биржа бирка бисер битва биток битум битье благо бланк блеск блоха блуза блюдо бляха бобер богач бодун бозон боинг бойня болид бомба бонус бордо борец боров босяк бочка бочок браво брань бремя брешь бровь бронь брошь брюки брюхо бубен бугай бугор будка буква букет булка буран бурда бутан бутон буфер буфет бухло бухта быдло былое бытие бычок вагон валет валик вальс ванна варан варяг вафля вахта вдова ведро венгр венец веник вепрь верфь весло весна весть ветвь ветер ветка вечер взвод вздор вздох взлет взлом взмах взмет взнос взрыв видео визит вилка вилла вираж вирус виски висок виток вклад влага вобла водка вожак вождь возня война вокал волан волга волна волос волхв вольт вопль ворон ворот ворох врата время вуаль вчера въезд выбор вывих вывод выгул выдох выдра выезд вызов выкуп вылет выпад вырез выход вьюга газон гайка галка галоп гамак гамма ганец гараж гарем гашиш гвалт гейша гелий гений геном герой гетто гжель гидра гиена глава гладь глина глист глубь глушь глыба гниль говор гогот голем голод голос гольф гонец гонка гонор гопак горец горка горло город горох гость грамм гранд грант грань греча грива гриль грипп гроза груда грудь грунт груша грыжа гряда грязь гуашь губка гудок гулаг гуляш гусар гусли давка дамба дамка дверь дебош дебют девиз декан декор дележ делец демон денди десна дефис джинн дзюдо диван диета диско длань длина днище добро довод догма дождь дозор дойка донор донос доска досуг досье доход дочка драже драка драма древо дрейф дрель дробь дрова дрожь дрозд друид дрязг дупло дурак дуэль дылда дырка дюшес дятел евнух еврей егерь ездок ересь есаул жажда жатва желоб жених женка жерло жесть жетон живот жизнь жилет жилец жилье жираф жокей жрица жулик забор завал завет завод загар загон загул задор зазор заика заказ закал закат закон залив залог замах замок запад запал запас запах запой запор заряд зачет звено зверь зебра зевок зелье земля зенит зерно зефир злоба знамя знать зомби зубец иврит игрок идеал идиот изгиб изгой изъян икона икота имидж ингуш индус индюк инжир интим искра ислам испуг истец исток исход иудей йодль йомен кабак кабан кагор кадет кадык казак казан казах казна казнь казус какао калач калий калиф камин камыш канал канат канва канон каноэ капля капот карат карга карма карта каска касса каста катод каток качка кащей каюта квант кварц квота кегль келья кепка кефир кешью кивок кинза киоск кирка кисть класс клерк клещи клише клоун книга князь коала ковер ковка козел койка койот кокон кокос колба колея колье комар комик комод комок конец конус конюх копия копье коран корка короб кость косяк котел кофта кочан кощей кража краса кредо креол крест кровь кроха круиз крыло крыша кубок кузен кузов кукла кулак кулич кулон культ кумир кумыс купец купол купон кураж курок кусок кутеж кухня кучер кювет лаваш лавка ладан ладья лазер лакей лампа лапта лапша ларец ласка левша лежак лейка лемма лемур лента лепет лепка леска лесть леший лиана ливер лидер ликер лилия лимит лимон линза линия лирик литье лихач лицей лишай лобби ловец ловля логик лодка ложка локон ломка лопух лоток лотос лубок лунка лыжня лютик ляжка лямка магия магма мадам мажор мазня мазут майор макет маляр манго манеж мания манка манна манул марка марля маска масло масон масса масть матка мафия мачта месса место месть месяц метан метка метла метод метро мечта мешок минус мираж миска мойка молва молот молох моляр монах мопед морда мороз моряк мосол мотив моток мотор мошка музей муляж мумия мусор мушка мысль мышца мэрия мякиш мятеж набат набег набор навар навоз навык наган нажим налог напев напор народ наряд насос наука нахал нация невод недуг нефть никто нимфа нитка ничто нищий ножны номер норка норма норов носок нужда нырок нытик нычка нюанс оазис обвал обгон обзор обида обман обмен образ обрез обрыв обряд обувь обуза объем обыск овраг огонь огрех озеро озноб океан окись оклад окрас оксид окунь олень олива олово омлет опека опера опиум оплот опрос орава орган оргия орден ордер ореол осада осень осетр оскал особа особь отбор отвар ответ отдел отдых отель отзыв отказ отлив отрыв отряд отсек отчет отчим охват охота очерк ощупь падеж пайка пакет палач палец палка панда папка парад парик паром парта паста пасть пасха пауза пафос пацан пачка певец пекло пенал пение пепел перец песец песня петля петух пешка пижон пикет пилот пинок пират пирог питон пицца пламя пласт племя плеск плечо плешь плита плоть побег повар повод поезд пожар позор поиск покер покой полет полис помпа порог порок порох посол посох посыл поток потоп поход почва почка почта поэма право прием принц приют проба проза птица пульс пупок пурга пушка пчела пшено пытка пьеса пятка пятно радио разум район рамка ранец ранчо рация рвота ребро ребус регби редис режим релиз рельс ретро робот родня рокот роман ропот рояль ртуть рубеж рубец рубль ружье рукав рулет рулон рупор русло ручей рыбак рывок рынок рычаг рюмка сабля саван сазан сайга сайра салат салон салют самба самбо самец самка санки сапер сапог сарай сауна сахар сброд свеча свист свита свора свояк связь сглаз сдача сдвиг сдоба сеанс север седло сезон секта семга семья сенат сетка синяк сироп ситро скала сквер сквош скейт склад склеп склон скоба скотч скрип скука скула скунс слава слеза сленг слизь слово слуга слюда слюна смена смерд смерч смесь смета смола смоль смотр смрад смута смысл снедь сноха собор совет совок созыв сокол солод сонет сосед соска сосна сосок сосуд спазм спесь спирт спица сплав спорт спрей спрос спрут спуск среда ссора ссуда стадо сталь старт ствол створ стенд степь стиль стоик столп стопа страж страх стриж строй струя стужа ступа судно судья суета сукно сумка сумма сурок сутки суфле сушка сущее сфера сцена съезд сырок сырье сыщик сюжет табак табло табор табун тазик тайга тайна такса талия талон танго танец таран тариф тачка тварь театр тезис тезка текст телец тембр тенор тепло терем терка тесак тесто тесть типаж тираж тиран тиски титан титул ткань товар толпа толщь томат тоник тонна тонус топаз топор топот торец тоска тотем точка трава транс трата траур треск трест треть трико тромб труба трусы труха тулуп туман тумба тунец тупик турка турне турок туфля туфта тыква тычок тюбик тюфяк тягач тяжба тяпка убыль угода уголь угорь удача узник уклад уклон укроп уксус улика улица умник упрек упырь успех устье утеря учеба ущерб фазан факел факир фанат фасад фасон фауна ферзь ферма фетиш физик фикус филин фильм финал финиш фирма фишка фланг флирт флора фляга фобия фокус фомка форма форум фотон фофан фраер фраза фронт фрукт фугас фужер фураж фурор фуфло фьорд хабар хакер халат халва халиф ханжа харчо хвала хворь хвост хиляк химик химия хиппи хлыст хмель хобби хобот холод холоп холст хомут хомяк хохма хохот хруст хунта хурма хутор цапля цевье цедра цезий центр цинга циник цифра цокот цукат цыган чабан чадра чайка чакра чарка часть чашка челка червь черед череп чернь честь чехол чешуя чипсы чирей число читка чрево чреда чтиво чувак чугун чужак чулан чулок чутье шабаш шайба шайка шакал шалаш шаман шапка шарик шатен шатер шатун шафер шахта шашка шельф шепот шериф ширма шитье шифер шишка шкала шквал школа шкура шланг шлейф шляпа шмель шорох шорты шоссе шофер шпага шпала шпана шпиль шпион шприц шпрот шрифт штамм штамп штаны штиль штифт штора шторм штраф штрих штука штурм штырь шулер шумер шурин шурпа шуруп шутка шухер шхуна щебет щегол щенок щепка щетка щипцы щипок щиток эгида эдикт эклер экран элита эллин эмаль эпоха эскиз эстет этика этнос юнона юноша юрист ябеда ягода ягуар яичко якорь ямщик ярлык ясень яхонт".split(" ")

daily_mode = false;
free_mode = false;
tutorial_mode = false;
restoring_game = false;

function pushHistory(paramsToSet) {
    var searchParams = new URLSearchParams(location.search);
    var paramsStringBefore = searchParams.toString()
    for (var key of Object.keys(paramsToSet)) {
        if (paramsToSet[key] === undefined || paramsToSet[key] === null) {
            searchParams.delete(key);
        } else {
            searchParams.set(key, paramsToSet[key]);
        }
    }
    var paramsString = searchParams.toString()
    if (paramsString !== paramsStringBefore) {
        if (paramsString) {
            window.history.pushState({}, "", location.pathname + "?" + paramsString);
        } else {
            window.history.pushState({}, "", location.pathname);
        }
        onStateChange();
    }
}

function vibrate() {
    if (navigator.vibrate) {
        navigator.vibrate(1)
    }
}

function iOS() {
  return [
    'ipad simulator',
    'iphone simulator',
    'ipod simulator',
    'ipad',
    'iphone',
    'ipod'
  ].includes(navigator.platform.toLowerCase())
  // iPad on iOS 13 detection
  || (navigator.userAgent.toLowerCase().includes("mac") && "ontouchend" in document)
}

isInWebAppiOS = (window.navigator.standalone === true);
isInWebViewiOS = /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);
isInWebAppChrome = (window.matchMedia('(display-mode: standalone)').matches);

if (iOS() && isInWebAppiOS) {
    acquire("body").classList.add("body-ios");
}

function canGoFullscreen() {
    return !iOS() && !isInWebAppiOS && !isInWebAppChrome && (document.body.requestFullscreen || document.body.mozRequestFullScreen || document.body.webkitRequestFullScreen || document.body.msRequestFullscreen);
}

function isInFullscreen() {
    return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;
}

function initDaily() {
    daily_mode = true;
    free_mode = false;
    restart();
    acquire("title").style.display = "none";
    acquire("game").style.display = "flex";
    acquire("tutorial").style.display = "none";
    acquire("reset_free").style.display= "none";
    if (canGoFullscreen()) {
        acquire("fullscreen").style.display = "";
        acquire("exit_fullscreen").style.display = "none";
    } else {
        acquire("fullscreen").style.display = "none";
        acquire("exit_fullscreen").style.display = "none";
    }
    if (window.gtag) {
        gtag("event", "start", {
            mode: "daily",
            daily_seed: daily_mode ? seed : undefined
        });
    }
}

function initFree() {
    daily_mode = false;
    free_mode = true;
    restart();
    acquire("title").style.display = "none";
    acquire("game").style.display = "flex";
    acquire("tutorial").style.display = "none";
    acquire("reset_free").style.display= "";
    if (canGoFullscreen()) {
        acquire("fullscreen").style.display = "";
        acquire("exit_fullscreen").style.display = "none";
    } else {
        acquire("fullscreen").style.display = "none";
        acquire("exit_fullscreen").style.display = "none";
    }
    if (window.gtag) {
        gtag("event", "start", {
            mode: "free",
            daily_seed: undefined
        });
    }
}

function onStateChange() {
    var params = new URLSearchParams(location.search);
    var mode = params.get("mode")
    var tutorial = params.get("tutorial")
    if (tutorial === "true") {
        initTutorial();
    } else if (mode === "daily") {
        initDaily();
    } else if (mode === "free") {
        initFree();
    } else {
        initTitle();
    }
}

window.addEventListener("popstate", onStateChange);

function initTutorial() {
    tutorial_mode = true
    acquire("title").style.display = "none";
    acquire("game").style.display = "none";
    acquire("tutorial").style.display = "";
    if (window.gtag) {
        gtag("event", "tutorial");
    }
}

function initTitle() {
    mode_leaving = daily_mode ? "daily" : "free";
    seed_leaving = daily_mode ? seed : undefined;
    daily_mode = false;
    free_mode = false;
    acquire("title").style.display = "";
    acquire("game").style.display = "none";
    acquire("tutorial").style.display = "none";
    acquire("body").style.backgroundColor = "rgb(24, 26, 27)";
    exitFullscreen();
    if (window.gtag) {
        gtag("event", "back", {
            mode: mode_leaving,
            daily_seed: seed_leaving
        });
    }

    window.onresize();
}

function initFullscreen() {
    if (document.body.requestFullscreen) {
        document.body.requestFullscreen({ navigationUI: "hide" });
    } else if (document.body.mozRequestFullScreen) {
        document.body.mozRequestFullScreen();
    } else if (document.body.webkitRequestFullScreen) {
        document.body.webkitRequestFullScreen();
    } else if (document.body.msRequestFullscreen) {
        document.body.msRequestFullscreen();
    }
}

function exitFullscreen() {
    if (isInFullscreen()) {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
        } else if (document.mozCancelFullScreen) {
            document.mozCancelFullScreen();
        } else if (document.msExitFullscreen) {
            document.msExitFullscreen();
        }
    }
}

function pressKey(e) {
    pk_wrap(e.key.toLowerCase(), e.keyCode);
}

function pk(key, keyCode) {
    if (!daily_mode && !free_mode) return;
    if (line >= TOTAL_LINES) return;
    if (keyCode == 8) {
        if (column <= 0) return;
        guess_current = guess_current.slice(0, guess_current.length - 1);
        column--;


        forEachCellForLineColumn(line, column, (box, el) => {
            if(answer_correct[box] < 0) {
                clear(el);
            }
        });

        test_real_word(line, guess_current);
        return;
    }
    if (keyCode == 13) {
        if (allowed.indexOf(guess_current) == -1 && answers.indexOf(guess_current) == -1) {
            guess_current = "";
            clear_line(line);
            test_real_word(line, guess_current);
            column = 0;
            return;
        }
        if (column >= TOTAL_COLUMNS) {
            if (!restoring_game && window.gtag) {
                gtag("event", "guess", {
                    mode: daily_mode ? "daily" : "free",
                    daily_seed: daily_mode ? seed : undefined,
                    word: guess_current
                });
            }
            guesses.push(guess_current);

            forEachCellForLineColumn(line, column - 1, (box, el) => {
                if (answer_correct[box] < 0) {
                    identify_guess(box, line, guess_current);
                }

                if (answer[box] == guess_current) {
                    answer_correct[box] = line;
                }
            });

            line++;
            column = 0;
            guess_current = "";

            if (answer_correct[0] >= 0 && answer_correct[1] >= 0 && answer_correct[2] >= 0 && answer_correct[3] >= 0 &&
                answer_correct[4] >= 0 && answer_correct[5] >= 0 && answer_correct[6] >= 0 && answer_correct[7] >= 0) {
                acquire("body").style.backgroundColor = "green";
                acquire("body").style.color = "black";
                show_post_game(true);
                if (!restoring_game && window.gtag) {
                    gtag("event", "win", {
                        mode: daily_mode ? "daily" : "free",
                        daily_seed: daily_mode ? seed : undefined,
                        guesses: guesses
                    });
                }
            } else if (line >= TOTAL_LINES) {
                acquire("body").style.backgroundColor = "red";
                acquire("body").style.color = "black";
                show_post_game(true);
                if (!restoring_game && window.gtag) {
                    var totalCorrect = 0;
                    for (var i = 0; i < answer_correct.length; i++) {
                        if (answer_correct[i] >= 0) {
                            totalCorrect++;
                        }
                    }
                    gtag("event", "loss", {
                        mode: daily_mode ? "daily" : "free",
                        daily_seed: daily_mode ? seed : undefined,
                        guesses: guesses,
                        total_correct: totalCorrect
                    });
                }
            }

            render_bg_keys();

        }
        return;
    }
    if ("абвгдежзийклмнопрстуфхцчшщъыьэюя".indexOf(key) == -1) return;
    if (column >= TOTAL_COLUMNS) return;
    forEachCellForLineColumn(line, column, (box, el) => {
        if (answer_correct[box] < 0) {
            ppint(el, key.toUpperCase());
        }
    });

    guess_current += key;
    column++;
    if (column >= TOTAL_COLUMNS) {
        test_real_word(line, guess_current);
    }
}

function pk_wrap(key, keyCode) {
    pk(key, keyCode);
    if ((daily_mode || free_mode) && keyCode === 13) {
        update_local_storage();
    }
}

function show_post_game(show) {
    if (show) {
        acquire("post_game").style.display = "";
        acquire("keyboard").style.display = "none";
        acquire("share").style.visibility = navigator.share ? "" : "hidden";
        //acquire("share_image").style.visibility = navigator.share ? "" : "hidden";
        do_share(false, "clipboard");
    } else {
        acquire("post_game").style.display = "none";
        acquire("keyboard").style.display = "";
    }
}

function test_real_word(line, guess_current) {
    var real = !(allowed.indexOf(guess_current) == -1 && answers.indexOf(guess_current) == -1)
    if (guess_current.length < TOTAL_COLUMNS) real = true;
    forEachCellForLine(line, (box, column, el) => {
        if (answer_correct[box] < 0) {
            el.style.color = real ? "white" : "red";
        }
    });
}

window.last_daily = null;
window.no_localstorage = false;

try {
    window.last_daily = window.localStorage.getItem("last_daily");
} catch (e) {
    window.no_localstorage = true;
}

function time_to_next() {
    try {
        if (!window.last_daily) {
            window.last_daily = window.localStorage.getItem("last_daily");
        }
    } catch (e) {
        window.no_localstorage = true;
    }

    if (window.last_daily == null) {
        return null;
    }

    var nextDate = addDays(new Date('01/24/2022'), int(window.last_daily) + 1);
    var timeLeftSeconds = Math.floor((nextDate - new Date().getTime()) / 1000);
    var timeLeftMinutes = Math.floor(timeLeftSeconds / 60);
    var timeLeftHours = Math.floor(timeLeftMinutes / 60);

    if(timeLeftHours > 0) {
        return timeLeftHours + " ч."
    } else if(timeLeftMinutes > 0) {
        return timeLeftMinutes + " мин."
    } else if(timeLeftSeconds < 0) {
        return null;
    } else{
        return timeLeftSeconds + " сек."
    }

    function format(value, name) {
        return value + name + (value > 1 ? "s" : "");
    }
}

function addDays(date, days) {
    var d = new Date(date)
    d.setDate(date.getDate() + days);
    return d;
}

function setTimeToNext() {
    if (!window.no_localstorage) {
        var next_description = time_to_next();
        if (next_description == null) printclear(acquire("next_daily"), "every day");
        else printclear(acquire("next_daily"), "(следующий через " + next_description + ")");
    }
}

setInterval(setTimeToNext, 1000);
setTimeToNext();

function restart() {
    acquire("body").style.backgroundColor = "rgb(24, 26, 27)";

    show_post_game(false);

    if (daily_mode) {
        var date = (new Date());
        var startDate = (new Date('01/24/2022'));
        seed = Math.floor((date.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));

        printclear(acquire("game_title"), "ежедневный octordle #" + seed.toString(10).padStart(4, "0"));
        window.last_daily = seed;
        if (!window.no_localstorage) {
            try {
                var prevDaily = window.localStorage.getItem("last_daily");
                window.localStorage.setItem("last_daily", seed);
                if (String(seed) !== prevDaily) {
                    window.localStorage.setItem("daily_guesses", "");
                }
            } catch (e) {
                window.no_localstorage = true;
            }
        }
        rnd = new MersenneTwister(seed);
    } else if (free_mode) {
        if (!window.no_localstorage) {
            try {
                var freeSeed = window.localStorage.getItem("last_free");
                if (freeSeed) {
                    rnd = new MersenneTwister(Number(freeSeed));
                } else {
                    freeSeed = new Date().getTime();
                    window.localStorage.setItem("last_free", freeSeed);
                    rnd = new MersenneTwister(freeSeed);
                }
            } catch (e) {
                window.no_localstorage = true;
            }
        }
        if (!rnd) {
            rnd = new MersenneTwister();
        }
        printclear(acquire("game_title"), "случайный octordle");
    }
    rnd.genrand_int31();
    rnd.genrand_int31();
    rnd.genrand_int31();
    rnd.genrand_int31();
    rnd.genrand_int31();
    rnd.genrand_int31();
    rnd.genrand_int31();
    rnd.genrand_int31();
    do {
        answer = [
            answers[rnd.genrand_int31() % answers.length],
            answers[rnd.genrand_int31() % answers.length],
            answers[rnd.genrand_int31() % answers.length],
            answers[rnd.genrand_int31() % answers.length],
            
            answers[rnd.genrand_int31() % answers.length],
            answers[rnd.genrand_int31() % answers.length],
            answers[rnd.genrand_int31() % answers.length],
            answers[rnd.genrand_int31() % answers.length],
        ];
    } while (new Set(answer).size != TOTAL_BOXES);

    line = 0;
    column = 0;
    guesses = [];
    guess_letters = [{}, {}, {}, {}, {}, {}, {}, {}];
    answer_correct = [-1, -1, -1, -1, -1, -1, -1, -1];
    share = [[], [], [], [], [], [], [], []];
    guess_current = "";

    for (var l = 0; l < TOTAL_LINES; l++) {
        clear_line(l);
        share.forEach(share => share.push("\u2B1B\u2B1B\u2B1B\u2B1B\u2B1B"))
    }

    acquire("keyboard").style.display = "";
    render_bg_keys();

    if ((daily_mode || free_mode) && !window.no_localstorage) {
        try {
            ls_guesses = window.localStorage.getItem(daily_mode ? "daily_guesses" : "free_guesses")
            ls_guesses = ls_guesses ? ls_guesses.split(",") : [];
            if (ls_guesses.length > 0) {
                restoring_game = true
                for (var i = 0; i < ls_guesses.length; i++) {
                    for (var j = 0; j < ls_guesses[i].length; j++) {
                        pk(ls_guesses[i][j], ls_guesses[i].charCodeAt(j))
                    }
                    pk("enter", 13)
                }
                restoring_game = false
                if (window.gtag) {
                    gtag("event", "restore", {
                        mode: daily_mode ? "daily" : "free",
                        daily_seed: daily_mode ? seed : undefined
                    });
                }
            }
        } catch (e) {
            window.no_localstorage = true;
        }
    }

    window.onresize();
}


function update_local_storage() {
    if (!window.no_localstorage && (daily_mode || free_mode)) {
        try {
            window.localStorage.setItem(daily_mode ? "daily_guesses" : "free_guesses", guesses.join(","));
        } catch (e) {
            window.no_localstorage = true;
        }
    }
}


function clear_line(line) {
    forEachCellForLine(line, (box, column, el) => {
        clear(el, "");
        el.style.color = "white";
        el.style.backgroundColor = "rgb(24, 26, 27)";
    });
}

function identify_guess(i, line, guess) {
    var ans = answer[i].split("");
    var gue = guess.split("");
    var icons = [];
    for (column = 0; column < TOTAL_COLUMNS; column++) {
        guess_letters[i][gue[column]] = 0;
        boxOperation(i, line, column, box => {
            box.style.backgroundColor = "rgb(24, 26, 27)";
        });
        icons.push('\u2B1C');
    }
    for (column = 0; column < TOTAL_COLUMNS; column++) {
        if (ans[column] == gue[column]) {
            boxOperation(i, line, column, box => {
                box.style.backgroundColor = "#00cc88";
                box.style.color = "black";
            });
            ans[column] = " ";
            guess_letters[i][gue[column]] = 2;
            gue[column] = " ";
            icons[column] = ("\uD83D\uDFE9");
        }
    }
    for (column = 0; column < TOTAL_COLUMNS; column++) {
        if (ans.indexOf(gue[column]) != -1 && ans[column] != gue[column] && gue[column] != " ") {
            boxOperation(i, line, column, box => {
                box.style.backgroundColor = "#ffcc00";
                box.style.color = "black";
            });
            if (guess_letters[i][gue[column]] != 2) guess_letters[i][gue[column]] = 1;
            ans[ans.indexOf(gue[column])] = " ";
            icons[column] = ("\uD83D\uDFE8");
        }
    }

    share[i][line] = icons.join("");
}

var keys = "абвгдежзийклмнопрстуфхцчшщъыьэюя".split("")
for (k in keys) {
    var acq = acquire(keys[k]);
    acq.key = keys[k];
    acq.onclick = function() {
        vibrate();
        pk_wrap(this.key, 0);
    }
}
acquire("daily").onclick = function() {
    vibrate();
    pushHistory({mode: "daily"})
}
acquire("free").onclick = function() {
    vibrate();
    pushHistory({mode: "free"})
}
acquire("tutorial1").onclick = function() {
    vibrate();
    pushHistory({tutorial: "true"})
}
acquire("tutorial2").onclick = function() {
    vibrate();
    pushHistory({tutorial: "true"})
}
acquire("fullscreen").onclick = function() {
    vibrate();
    initFullscreen();
}
acquire("exit_fullscreen").onclick = function() {
    vibrate();
    exitFullscreen();
}

acquire("widescreen-yes").onclick = function() {
    localStorage.setItem('widescreen', "yes");
    localStorage.setItem("widescreen-feedback", addDays(new Date(), 2));
    if (window.gtag) {
        gtag("event", "widescreen", {
            mode: "yes",
            width: window.innerWidth
        });
        gtag("event", "widescreen-yes", {
            width: window.innerWidth
        });
    }
    window.onresize();
}
acquire("widescreen-no").onclick = function() {
    localStorage.setItem('widescreen', "no");
    if (window.gtag) {
        gtag("event", "widescreen", {
            mode: "no",
            width: window.innerWidth
        });
        gtag("event", "widescreen-no", {
            width: window.innerWidth
        });
    }
    window.onresize();
}

acquire("widescreen-reset").onclick = function() {
    localStorage.removeItem('widescreen');
    localStorage.removeItem("widescreen-feedback");
    if (window.gtag) {
        gtag("event", "widescreen-reset", {
            width: window.innerWidth
        });
    }
    window.onresize();
}

acquire("widescreen-feedback-yes").onclick = function() {
    localStorage.setItem('widescreen-feedback', "yes");
    if (window.gtag) {
        gtag("event", "widescreen-feedback", {
            mode: "yes",
            width: window.innerWidth
        });
        gtag("event", "widescreen-feedback-yes", {
            width: window.innerWidth
        });
    }
    window.onresize();
}
acquire("widescreen-feedback-no").onclick = function() {
    localStorage.setItem('widescreen-feedback', "no");
    if (window.gtag) {
        gtag("event", "widescreen-feedback", {
            mode: "no",
            width: window.innerWidth
        });
        gtag("event", "widescreen-feedback-no", {
            width: window.innerWidth
        });
    }
    window.onresize();
}

function fullscreenHandler() {
    if (isInFullscreen()) {
        acquire("fullscreen").style.display = "none";
        acquire("exit_fullscreen").style.display = "";
    } else {
        acquire("fullscreen").style.display = "";
        acquire("exit_fullscreen").style.display = "none";
    }
}

if (document.addEventListener) {
    document.addEventListener('fullscreenchange', fullscreenHandler, false);
    document.addEventListener('mozfullscreenchange', fullscreenHandler, false);
    document.addEventListener('MSFullscreenChange', fullscreenHandler, false);
    document.addEventListener('webkitfullscreenchange', fullscreenHandler, false);
}

acquire("enter1").onclick = function() {
    vibrate();
    pk_wrap("", 13);
}
acquire("enter2").onclick = function() {
    vibrate();
    pk_wrap("", 13);
}
acquire("enter3").onclick = function() {
    vibrate();
    pk_wrap("", 13);
}
acquire("bs").onclick = function() {
    vibrate();
    pk_wrap("", 8);
}
acquire("restart").onclick = function() {
    vibrate();
    pushHistory({mode: undefined})
}
acquire("leave_tutorial").onclick = function() {
    vibrate();
    pushHistory({tutorial: undefined})
}
acquire("share").onclick = function() {
    do_share(true, "share");
}
acquire("share_clipboard").onclick = function() {
    do_share(true, "clipboard");
}
// acquire("share_image").onclick = function() {
//     do_share(true, "image");
// }
acquire("reset_free").onclick = function() {
    vibrate();
    if (isInWebViewiOS || confirm("Начать новый случайный Octordle? (Текущая игра будет потеряна)")) {
        window.localStorage.removeItem("free_guesses");
        window.localStorage.removeItem("last_free");
        initFree();
    }
}

const emojiMap = ["1️⃣", "2️⃣", "3️⃣", "4️⃣", "5️⃣", "6️⃣", "7️⃣", "8️⃣", "9️⃣", "🔟", "🕚", "🕛", "🕐", "🕑"]

function get_num_emoji(num) {
    if (num < 0) {
        return "\uD83D\uDFE5"
    } else if(num < emojiMap.length) {
        return emojiMap[num];
    }
    return "❓";
}

function get_next_color_from_emojis(emojis) {
    if (emojis.startsWith("\uD83D\uDFE9")) {
        return ["#00cc88", emojis.replace("\uD83D\uDFE9", "")]; // green
    } else if (emojis.startsWith("\uD83D\uDFE8")) {
        return ["#ffcc00", emojis.replace("\uD83D\uDFE8", "")]; // yellow
    } else if (emojis.startsWith("\u2B1C")) {
        return ["#e0e0e0", emojis.replace("\u2B1C", "")]; // white
    } else if (emojis.startsWith("\u2B1B")) {
        return ["#2d2d2d", emojis.replace("\u2B1B", "")]; // black
    }
}

function roundRect(ctx, x, y, width, height, radius) {
    radius = {tl: radius, tr: radius, br: radius, bl: radius};
    ctx.beginPath();
    ctx.moveTo(x + radius.tl, y);
    ctx.lineTo(x + width - radius.tr, y);
    ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);
    ctx.lineTo(x + width, y + height - radius.br);
    ctx.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height);
    ctx.lineTo(x + radius.bl, y + height);
    ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);
    ctx.lineTo(x, y + radius.tl);
    ctx.quadraticCurveTo(x, y, x + radius.tl, y);
    ctx.closePath();
    ctx.fill();
}

function do_share(copy, shareType) {
    let answer_correct = window.answer_correct;
    let answer = window.answer;
    let share = window.share;
    let text_share = "";
    let text_mobile_share = "";
    let seed = window.seed;
    let line = window.line;

    printclear(acquire("answer12"), answer[0].toUpperCase() + " - " + answer[1].toUpperCase());
    printclear(acquire("answer34"), answer[2].toUpperCase() + " - " + answer[3].toUpperCase());
    printclear(acquire("answer56"), answer[4].toUpperCase() + " - " + answer[5].toUpperCase());
    printclear(acquire("answer78"), answer[6].toUpperCase() + " - " + answer[7].toUpperCase());

    let shouldShowWords = line >= TOTAL_LINES || (answer_correct[0] >= 0 && answer_correct[1] >= 0 && answer_correct[2] >= 0 && answer_correct[3] >= 0) && answer_correct[4] >= 0 && answer_correct[5] >= 0 && answer_correct[6] >= 0 && answer_correct[7] >= 0;
    if (daily_mode) {
        text_share = "Ежедневный Octordle #" + seed.toString(10) + "\n" +
            get_num_emoji(answer_correct[0]) +
            get_num_emoji(answer_correct[1]) + "\n" +
            get_num_emoji(answer_correct[2]) +
            get_num_emoji(answer_correct[3]) + "\n" +
            get_num_emoji(answer_correct[4]) +
            get_num_emoji(answer_correct[5]) + "\n" +
            get_num_emoji(answer_correct[6]) +
            get_num_emoji(answer_correct[7]);
    } else {
        text_share = "Octordle\n" +
            get_num_emoji(answer_correct[0]) +
            get_num_emoji(answer_correct[1]) + (shouldShowWords ? " " + answer[0].toUpperCase() + " - " + answer[1].toUpperCase() : "") + "\n" +
            get_num_emoji(answer_correct[2]) +
            get_num_emoji(answer_correct[3]) + (shouldShowWords ? " " + answer[2].toUpperCase() + " - " + answer[3].toUpperCase() : "") + "\n" +
            get_num_emoji(answer_correct[4]) +
            get_num_emoji(answer_correct[5]) + (shouldShowWords ? " " + answer[4].toUpperCase() + " - " + answer[5].toUpperCase() : "") + "\n" +
            get_num_emoji(answer_correct[6]) +
            get_num_emoji(answer_correct[7]) + (shouldShowWords ? " " + answer[6].toUpperCase() + " - " + answer[7].toUpperCase() : "");
    }

    text_share += "\noctordle.com";
    text_mobile_share = text_share
    text_share += "\n"


    let l1 = line - 1;
    if (answer_correct[0] >= 0 && answer_correct[1] >= 0 ) {
        l1 = Math.max(answer_correct[0], answer_correct[1])
    }
    let l2 = line - 1;
    if (answer_correct[2] >= 0 && answer_correct[3] >= 0) {
        l2 = Math.max(answer_correct[2], answer_correct[3])
    }
    let l3 = line - 1;
    if (answer_correct[4] >= 0 && answer_correct[5] >= 0) {
        l3 = Math.max(answer_correct[4], answer_correct[5])
    }
    let l4 = line - 1;
    if (answer_correct[6] >= 0 && answer_correct[7] >= 0) {
        l4 = Math.max(answer_correct[6], answer_correct[7])
    }
    for (let i = 0; i <= l1; i++) {
        text_share += share[0][i] + " " + share[1][i] + "\n";
    }
    text_share += "\n"
    for (let i = 0; i <= l2; i++) {
        text_share += share[2][i] + " " + share[3][i] + "\n";
    }
    text_share += "\n"
    for (let i = 0; i <= l3; i++) {
        text_share += share[4][i] + " " + share[5][i] + "\n";
    }
    text_share += "\n"
    for (let i = 0; i <= l4; i++) {
        text_share += share[6][i] + " " + share[7][i] + "\n";
    }

    if (copy && window.gtag) {
        gtag("event", "share", {
            mode: daily_mode ? "daily" : "free",
            share_type: shareType,
            daily_seed: daily_mode ? seed : undefined
        });
    }

    printclear(acquire("share_content"), shareType === "image" ? text_mobile_share : text_share);

    if (copy) {
        acquire("share_content").select();
        document.execCommand("copy");
        acquire("share_content").blur();
        if (shareType === "clipboard") {
            alert("Copied results to clipboard!")
        }
    }

    printclear(acquire("share_content"), text_share);

    if (navigator.share) {
        if (shareType === "share") {
            navigator.share({
                text: text_share,
            });
        } else if (shareType === "image") {
            var size = 64;
            var padding = size / 16;
            var radius = size / 8;
            var fontScale = 0.75;
            var textPadding = size / 4;
            const canvas = document.querySelector("#canvas");
            canvas.width = (size + padding) * 11 - padding
            canvas.height = (size + padding) * (l1 + 1 + l2 + 1 + l3 + 1 + l4 + 1 + 4) - padding;
            const ctx = canvas.getContext("2d");
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // draw words 1 + 2
            var x = 0;
            var y = 0;
            for (var i = 0; i <= l1; i++) {
                var emojiStr = share[0][i];
                x = 0;
                while (emojiStr) {
                    var pair = get_next_color_from_emojis(emojiStr)
                    var color = pair[0]
                    emojiStr = pair[1]
                    ctx.fillStyle = color;
                    roundRect(ctx, x * (size + padding), y * (size + padding), size, size, radius);
                    x++;
                }

                emojiStr = share[1][i];
                x = 6;
                while (emojiStr) {
                    var pair = get_next_color_from_emojis(emojiStr)
                    var color = pair[0]
                    emojiStr = pair[1]
                    ctx.fillStyle = color;
                    roundRect(ctx, x * (size + padding), y * (size + padding), size, size, radius);
                    x++;
                }
                y++;
            }

            // draw middle text
            ctx.font = size * fontScale + 'px Arial';
            ctx.textAlign = "center";
            ctx.textBaseline = "alphabetic";
            ctx.fillStyle = "#ffffff";

            var titleText = daily_mode ? "Daily Octordle #" + seed.toString(10) : "Octordle";
            var metrics = ctx.measureText(titleText);
            var fontHeight = metrics.actualBoundingBoxAscent;
            ctx.fillText(titleText, canvas.width / 2, y * (size + padding) + size - (size - fontHeight) / 2, canvas.width - textPadding * 2);
            y++;
            for (var row = 0; row < 4; row++) {
                for (var i = 0; i < 2; i++) {
                    ctx.fillStyle = answer_correct[i + row * 2] >= 0 ? "#00a6ed" : "#f8312f";
                    var dir = (i * 2 - 1)
                    var xTopCenter = canvas.width / 2 + dir * (padding / 2) + dir * (size / 2)
                    roundRect(ctx, xTopCenter - size / 2, y * (size + padding), size, size, radius);
                    if (answer_correct[i + row * 2] >= 0) {
                        ctx.textAlign = "center";
                        ctx.fillStyle = "#ffffff";
                        var numText = answer_correct[i + row * 2] + 1
                        metrics = ctx.measureText(numText);
                        fontHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;
                        ctx.fillText(
                            numText,
                            xTopCenter,
                            y * (size + padding) + size - (size - fontHeight) / 2,
                            size
                        );
                    }
                }
                if (free_mode && shouldShowWords) {
                    ctx.textAlign = "right";
                    ctx.fillStyle = "#ffffff";
                    var wordText = answer[0 + row * 2].toUpperCase()
                    metrics = ctx.measureText(wordText);
                    fontHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;
                    ctx.fillText(
                        wordText,
                        canvas.width / 2 - padding / 2 - size - textPadding,
                        y * (size + padding) + size - (size - fontHeight) / 2,
                        canvas.width / 2 - padding - size - textPadding * 2
                    )
                    ctx.textAlign = "left";
                    wordText = answer[1 + row * 2].toUpperCase()
                    metrics = ctx.measureText(wordText);
                    fontHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;
                    ctx.fillText(
                        wordText,
                        canvas.width / 2 + padding / 2 + size + textPadding,
                        y * (size + padding) + size - (size - fontHeight) / 2,
                        canvas.width / 2 - padding - size - textPadding * 2
                    )
                }
                y++;
            }
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillStyle = "#ffffff";
            ctx.fillText("octordle", canvas.width / 2, y * (size + padding) + (size / 2), canvas.width);
            y++;

            // draw words 3 + 4
            for (var i = 0; i <= l2; i++) {
                var emojiStr = share[2][i];
                x = 0;
                while (emojiStr) {
                    var pair = get_next_color_from_emojis(emojiStr)
                    var color = pair[0]
                    emojiStr = pair[1]
                    ctx.fillStyle = color;
                    roundRect(ctx, x * (size + padding), y * (size + padding), size, size, radius);
                    x++;
                }

                emojiStr = share[3][i];
                x = 6;
                while (emojiStr) {
                    var pair = get_next_color_from_emojis(emojiStr)
                    var color = pair[0]
                    emojiStr = pair[1]
                    ctx.fillStyle = color;
                    roundRect(ctx, x * (size + padding), y * (size + padding), size, size, radius);
                    x++;
                }
                y++;
            }

            // draw words 5 + 6
            for (var i = 0; i <= l3; i++) {
                var emojiStr = share[4][i];
                x = 0;
                while (emojiStr) {
                    var pair = get_next_color_from_emojis(emojiStr)
                    var color = pair[0]
                    emojiStr = pair[1]
                    ctx.fillStyle = color;
                    roundRect(ctx, x * (size + padding), y * (size + padding), size, size, radius);
                    x++;
                }

                emojiStr = share[5][i];
                x = 6;
                while (emojiStr) {
                    var pair = get_next_color_from_emojis(emojiStr)
                    var color = pair[0]
                    emojiStr = pair[1]
                    ctx.fillStyle = color;
                    roundRect(ctx, x * (size + padding), y * (size + padding), size, size, radius);
                    x++;
                }
                y++;
            }

            // draw words 7 + 8
            for (var i = 0; i <= l3; i++) {
                var emojiStr = share[6][i];
                x = 0;
                while (emojiStr) {
                    var pair = get_next_color_from_emojis(emojiStr)
                    var color = pair[0]
                    emojiStr = pair[1]
                    ctx.fillStyle = color;
                    roundRect(ctx, x * (size + padding), y * (size + padding), size, size, radius);
                    x++;
                }

                emojiStr = share[7][i];
                x = 6;
                while (emojiStr) {
                    var pair = get_next_color_from_emojis(emojiStr)
                    var color = pair[0]
                    emojiStr = pair[1]
                    ctx.fillStyle = color;
                    roundRect(ctx, x * (size + padding), y * (size + padding), size, size, radius);
                    x++;
                }
                y++;
            }

            canvas.toBlob(function(blob) {
                var file = new File([blob], "octordle.png", { type: "image/png" });
                navigator.share({
                    files: [file],
                    text: text_mobile_share
                });
            });
        }
    }
}

function render_bg_keys() {
    let answer_correct = window.answer_correct;
    let guess_letters = window.guess_letters;

    let keys = "абвгдежзийклмнопрстуфхцчшщъыьэюя".split("");

    let pos = " 50%"
    if (answer_correct[0] < 0 && answer_correct[1] >= 0) pos = " 90%";
    if (answer_correct[1] < 0 && answer_correct[0] >= 0) pos = " 10%";

    for (let k in keys) {
        let keyGuessed = false
        let keyColors = ["rgb(24, 26, 27)", "rgb(24, 26, 27)", "rgb(24, 26, 27)", "rgb(24, 26, 27)", "rgb(24, 26, 27)", "rgb(24, 26, 27)", "rgb(24, 26, 27)", "rgb(24, 26, 27)"]
        let colorOptions = ["#919191", "#ffcc00", "#00cc88"]
        let gradStrArr = [];
        for (let g = 0; g < keyColors.length; g++) {
            for (let i = 0; i < colorOptions.length; i++) {
                if (guess_letters[g][keys[k]] === i) {
                    keyColors[g] = colorOptions[i]
                    keyGuessed = true
                }
            }
        }

        for (let g = 0; g < keyColors.length; g++) {
            if (keyGuessed && keyColors[g] === "rgb(24, 26, 27)") {
                keyColors[g] = "#5c5c5c"
            }
            gradStrArr.push("linear-gradient(45deg, " + keyColors[g] + ", " + keyColors[g] + ")");
        }
        let bg = gradStrArr.join(",");
        let key = acquire(keys[k])
        key.style.backgroundImage = bg
        key.style.backgroundSize = "51% 26%";
        key.style.backgroundPosition = "0% 0%, 100% 0%, 0% 33%, 100% 33%, 0% 66%, 100% 66%, 0% 100%, 100% 100%"
        key.style.backgroundRepeat = "no-repeat"
        key.style.color = keyGuessed ? "black" : "white"
        // key.style.textShadow = keyGuessed ? "0 0 4px white" : ""
    }
}

document.addEventListener('keydown', pressKey);

function tryParseDate(str) {
    try {
        return new Date(str);
    } catch (e) {
        if (window.gtag) {
            gtag("event", "parse-date-fail", {
                str: str
            });
        }
    }
}

window.onresize = function() {
    let body = acquire("body");

    let mode = localStorage.getItem("widescreen");
    let wideScreenAllowed = window.innerWidth > 1570;

    let showWidescreenQuestion = !mode && wideScreenAllowed;
    let showWidescreen = mode === "yes" && wideScreenAllowed;
    let showNormalScreen = !showWidescreen;
    let showReset = !!mode && wideScreenAllowed;

    if(!(showWidescreen && (daily_mode || free_mode))) {
        body.style.maxWidth = "550px";
        body.style.fontSize = body.clientWidth / 15 + "px";
        acquire('game').style.margin = "";
        acquire("share_content").style.fontSize = (body.clientWidth / 550 * 30) + "%";
        document.documentElement.style.setProperty('--boxsize', (body.clientWidth / 11) + 'px');
        document.documentElement.style.setProperty('--spacing', body.clientWidth <= 300 ? '0px' : '2px');
        document.documentElement.style.setProperty('--collapse', body.clientWidth <= 300 ? 'collapse' : 'separate');
    } else {
        let fontSize = Math.min(28, body.clientWidth / 15);
        body.style.maxWidth = "98vw";
        body.style.fontSize = fontSize + "px";
        acquire('game').style.margin = "0 auto";
        acquire("share_content").style.fontSize = (body.clientWidth / 550 * 30) + "%";
        document.documentElement.style.setProperty('--boxsize', (fontSize * 1.75) + 'px');
        document.documentElement.style.setProperty('--spacing', body.clientWidth <= 300 ? '0px' : '2px');
        document.documentElement.style.setProperty('--collapse', body.clientWidth <= 300 ? 'collapse' : 'collapse');
    }

    acquire('widescreen-question').style.display = showWidescreenQuestion ? "block" : "none";
    acquire('normal-container').style.display = showNormalScreen ? "block" : "none";
    acquire('widescreen-container').style.display = showWidescreen ? "block" : "none";
    acquire('widescreen-reset').style.display = showReset ? "block" : "none";
    acquire('widescreen-feedback').style.display = showWidescreenFeedback(showWidescreen) ? "block" : "none";

    function showWidescreenFeedback(showWidescreen) {
        let widescreenFeedback = localStorage.getItem("widescreen-feedback");
        let widescreenFeedbackProvided = widescreenFeedback === "yes" || widescreenFeedback === "no"
        let widescreenDate = widescreenFeedback && !widescreenFeedbackProvided && tryParseDate(widescreenFeedback);
        if(!!mode && !widescreenFeedbackProvided && !widescreenFeedback) {
            localStorage.setItem("widescreen-feedback", addDays(new Date(), 1));
        }
        return showWidescreen && !widescreenFeedbackProvided && widescreenDate && widescreenDate < new Date();
    }
}
window.onresize();

setupBoxes();
onStateChange();

(function init() {
    let giveordles = [
        "Shout out to Les, Jess, Brad, Tina, Lisa, Matt A! ♥",
        "Donate to your favorite non-profit",
        "Do a little cleaning at home",
        "Introduce yourself to someone new",
        "Compliment someone",
        "Pet an animal",
        "Call a parent or child and tell them you love them",
        "Tip a little extra",
        "Clean up some litter",
        "Tweet your favorite musician, especially less known ones. @portugaltheman @AesopRockWins",
        "Give instead of take",
        "Buy somebody coffee",
        "Text that friend you've been thinking about but haven't texted",
        "Buy a book for somebody",
        "Workout! a little or a lot",
        "Donate blood",
        "Give a loved one a gift",
        "Let it go",
        "Recycle something today",
        "Help the new person at work",
        "Make a meal for someone",
        "Let it be",
        "Volunteer this weekend",
        "Put a stray shopping cart away. Cart-Narc! Whoop Whoop!",
        "Buy someone flowers",
        "Smile at someone"
    ];

    let diff = new Date() - new Date('02/23/2022');
    let days = Math.floor(diff / (1000 * 60 *60 *24));

    let todaysGiveordle = giveordles[days % giveordles.length];

    let giveordle = acquire('giveordle-text');
    if(todaysGiveordle) {
        clear(giveordle);
        ppint(giveordle, todaysGiveordle);
    } else{
        clear(giveordle);
    }
})();

</script>
</body>
</html>
